{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://api.crediwatch.com/v1/search/courts.json",
  "type": "object",
  "title": "The Court Search Response schema",
  "description": "The Court Search Response returned for a query.",
  "required": [
    "meta",
    "data"
  ],
  "properties": {
    "meta": {
      "$id": "#/properties/meta",
      "type": "object",
      "title": "The meta schema",
      "description": "Meta information on the response/request",
      "required": [
        "name",
        "fathers_name",
        "created",
        "page",
        "per_page",
        "total_records",
        "time_ms",
        "facets"
      ],
      "properties": {
        "name": {
          "description": "Name of party for Court search",
          "example": "Arul",
          "title": "Query paramter",
          "type": "string"
        },
        "fathers_name": {
          "description": "Name of father/related of party for Court search",
          "example": "Swaminathan",
          "title": "Query paramter",
          "type": "string"
        },
        "created": {
          "description": "Date of birth/incorporation of party",
          "example": "1980-01-01",
          "title": "Query paramter",
          "type": "string",
          "format": "date"
        },
        "page": {
          "default": 1,
          "description": "The paramter is used for pagination of results",
          "example": 1,
          "title": "Page number",
          "type": "integer"
        },
        "per_page": {
          "default": 10,
          "description": "Number of documents returned per page",
          "example": 10,
          "title": "Documents per page",
          "type": "integer"
        },
        "total_records": {
          "description": "Total records present in for the search paramter",
          "example": 10000,
          "title": "Total number of records",
          "type": "integer"
        },
        "time_ms": {
          "description": "Time taken to return the results",
          "example": 136,
          "title": "Response time",
          "type": "number"
        },
        "facets": {
          "description": "Faceted query for the query paramter",
          "required": [],
          "title": "Different dimensions of the data",
          "type": "object",
          "properties": {
            "case_type": {
              "description": "Distribution of Case Types across different cities",
              "title": "Distribution across Case Types",
              "type": "object",
              "properties": {
                "doc_count_error_upper_bound": {
                  "$id": "#/properties/meta/properties/facets/properties/case_type/properties/doc_count_error_upper_bound",
                  "type": "integer",
                  "title": "The doc_count_error_upper_bound schema",
                  "description": "",
                  "example": 0
                },
                "sum_other_doc_count": {
                  "default": 0,
                  "description": "Total number of documents for this facet",
                  "example": 1994,
                  "title": "Total number of documents",
                  "type": "integer"
                },
                "buckets": {
                  "description": "Results of facets query",
                  "title": "Facets result",
                  "type": "array",
                  "additionalItems": true,
                  "items": {
                    "type": "object",
                    "description": "",
                    "required": [
                      "key",
                      "doc_count"
                    ],
                    "properties": {
                      "key": {
                        "description": "case_type",
                        "example": "wp",
                        "title": "Case Type",
                        "type": "string"
                      },
                      "doc_count": {
                        "default": 0,
                        "description": "Total number of documents for the case_type",
                        "example": 620,
                        "title": "Document count",
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            },
            "year": {
              "description": "Facet query on the year of the case filed",
              "required": [
                "doc_count_error_upper_bound",
                "sum_other_doc_count",
                "buckets"
              ],
              "title": "Year Distribution",
              "type": "object",
              "properties": {
                "doc_count_error_upper_bound": {
                  "$id": "#/properties/meta/properties/facets/properties/year/properties/doc_count_error_upper_bound",
                  "type": "integer",
                  "title": "The doc_count_error_upper_bound schema",
                  "description": "An explanation about the purpose of this instance.",
                  "default": 0,
                  "example": 0
                },
                "sum_other_doc_count": {
                  "default": 0,
                  "description": "Total number of documents for this facet",
                  "example": 19,
                  "title": "Total number of documents",
                  "type": "integer"
                },
                "buckets": {
                  "default": [],
                  "description": "Results of facets query",
                  "title": "Facets result",
                  "type": "array",
                  "additionalItems": true,
                  "items": {
                    "$id": "#/properties/meta/properties/facets/properties/year/properties/buckets/items/anyOf/0",
                    "type": "object",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "required": [
                      "key",
                      "doc_count"
                    ],
                    "properties": {
                      "key": {
                        "description": "year",
                        "example": "2017",
                        "title": "Year",
                        "type": "number"
                      },
                      "doc_count": {
                        "$id": "#/properties/meta/properties/facets/properties/year/properties/buckets/items/anyOf/0/properties/doc_count",
                        "type": "integer",
                        "title": "The doc_count schema",
                        "description": "An explanation about the purpose of this instance.",
                        "default": 0,
                        "example": 169627
                      }
                    }
                  }
                }
              }
            },
            "status": {
              "default": {},
              "description": "Case status",
              "required": [
                "doc_count_error_upper_bound",
                "sum_other_doc_count",
                "buckets"
              ],
              "title": "Case status",
              "type": "object",
              "properties": {
                "doc_count_error_upper_bound": {
                  "$id": "#/properties/meta/properties/facets/properties/status/properties/doc_count_error_upper_bound",
                  "type": "integer",
                  "title": "The doc_count_error_upper_bound schema",
                  "description": "An explanation about the purpose of this instance.",
                  "default": 0,
                  "example": 0
                },
                "sum_other_doc_count": {
                  "default": 0,
                  "description": "Total number of documents for this facet",
                  "example": 90,
                  "title": "Total number of documents",
                  "type": "integer"
                },
                "buckets": {
                  "default": [],
                  "description": "Results of facets query",
                  "title": "Facets result",
                  "type": "array",
                  "additionalItems": true,
                  "items": {
                    "$id": "#/properties/meta/properties/facets/properties/status/properties/buckets/items/anyOf/0",
                    "type": "object",
                    "description": "An explanation about the purpose of this instance.",
                    "required": [
                      "key",
                      "doc_count"
                    ],
                    "properties": {
                      "key": {
                        "description": "Case status",
                        "example": "active",
                        "title": "Case status",
                        "type": "string"
                      },
                      "doc_count": {
                        "default": 0,
                        "description": "Total number of documents",
                        "example": 51051,
                        "title": "Total number of documents",
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "data": {
      "$id": "#/properties/data",
      "description": "Results of the Court search query",
      "title": "Court Search results",
      "type": "array",
      "additionalItems": true,
      "items": {
        "$id": "#/properties/data/items",
        "type": "object",
        "title": "Records of Court search",
        "description": "Records returned by search on Court index",
        "default": {},
        "properties": {
          "petitioner": {
            "description": "Names of the petitioners",
            "example": "arul",
            "title": "Petitioner names",
            "type": "array",
            "additionalItems": true,
            "items": {
              "type": "string"
            }
          },
          "respondent": {
            "description": "Names of the respondents",
            "example": "swaminathan",
            "title": "Respondent names",
            "type": "array",
            "additionalItems": true,
            "items": {
              "type": "string"
            }
          },
          "type": {
            "description": "Type of Case",
            "example": "wp",
            "title": "The type of the case",
            "type": "string"
          },
          "filing_date": {
            "$id": "#/properties/data/items/properties/created",
            "type": "string",
            "format": "date",
            "title": "The case filing  date",
            "description": "Date of filing of Case",
            "example": "2016-09-27"
          },
          "status": {
            "default": "active",
            "description": "Status of the Case",
            "example": "pending",
            "title": "Case status",
            "type": "string"
          }
        }
      }
    }
  }
}